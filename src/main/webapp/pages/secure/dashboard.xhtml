<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="template/template.xhtml"   
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" 
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui">

    <ui:define name="content">
        <o:onloadScript>
            document.getElementById('dashboardMenuItem').style.fontWeight = 'bold';
            document.getElementById('dashboardMenuItem').style.color = 'blue';
        </o:onloadScript>

        <o:form id="dashboardForm" style="width: 99%" prependId="false"> 
            <p:messages autoUpdate="true" severity="info,warn,error" for="dashboardMessages" id="dashboardMessages" closable="true" />


            <div style="clear:both" />
        </o:form>
        <p:socket onMessage="handleMessage" channel="/liveVersion" widgetVar="liveVersionSocketWidget" autoConnect="false" />

        <script type="text/javascript">
            function handleMessage(data) {
                //$('.display').html(data);
                updateList();
                refreshAllRecipeList();
            }
        </script>
    </ui:define>
</ui:composition>